import{__spreadArray}from"tslib";
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */import{d as printIonError}from"./index-cfd9c1f2.js";import{w as win}from"./index-a5d50daf.js";var animationPrefix;var getAnimationPrefix=function(r){if(animationPrefix===undefined){var n=r.style.animationName!==undefined;var e=r.style.webkitAnimationName!==undefined;animationPrefix=!n&&e?"-webkit-":""}return animationPrefix};var setStyleProperty=function(r,n,e){var i=n.startsWith("animation")?getAnimationPrefix(r):"";r.style.setProperty(i+n,e)};var addClassToArray=function(r,n){if(r===void 0){r=[]}if(n!==undefined){var e=Array.isArray(n)?n:[n];return __spreadArray(__spreadArray([],r,true),e,true)}return r};var createAnimation=function(r){var n;var e;var i;var t;var a;var f;var u=[];var o=[];var v=[];var d=false;var c;var s={};var l=[];var m=[];var y={};var p=0;var A=false;var g=false;var C;var b;var _;var P=true;var E=false;var S=true;var x;var T=false;var w=r;var h=[];var k=[];var R=[];var I=[];var D=[];var F=[];var W=[];var j=[];var K=[];var M=[];var q=[];var z=typeof AnimationEffect==="function"||win!==undefined&&typeof win.AnimationEffect==="function";var B=typeof Element==="function"&&typeof Element.prototype.animate==="function"&&z;var G=function(){return q};var H=function(r){D.forEach((function(n){n.destroy(r)}));J(r);I.length=0;D.length=0;u.length=0;V();d=false;S=true;return x};var J=function(r){X();if(r){Y()}};var L=function(){A=false;g=false;S=true;C=undefined;b=undefined;_=undefined;p=0;E=false;P=true;T=false};var N=function(){return p!==0&&!T};var O=function(r,n){var e=n.findIndex((function(n){return n.c===r}));if(e>-1){n.splice(e,1)}};var Q=function(r,n){R.push({c:r,o:n});return x};var U=function(r,n){var e=(n===null||n===void 0?void 0:n.oneTimeCallback)?k:h;e.push({c:r,o:n});return x};var V=function(){h.length=0;k.length=0;return x};var X=function(){if(B){q.forEach((function(r){r.cancel()}));q.length=0}};var Y=function(){F.forEach((function(r){if(r===null||r===void 0?void 0:r.parentNode){r.parentNode.removeChild(r)}}));F.length=0};var Z=function(r){W.push(r);return x};var $=function(r){j.push(r);return x};var rr=function(r){K.push(r);return x};var nr=function(r){M.push(r);return x};var er=function(r){o=addClassToArray(o,r);return x};var ir=function(r){v=addClassToArray(v,r);return x};var tr=function(r){if(r===void 0){r={}}s=r;return x};var ar=function(r){if(r===void 0){r=[]}for(var n=0,e=r;n<e.length;n++){var i=e[n];s[i]=""}return x};var fr=function(r){l=addClassToArray(l,r);return x};var ur=function(r){m=addClassToArray(m,r);return x};var or=function(r){if(r===void 0){r={}}y=r;return x};var vr=function(r){if(r===void 0){r=[]}for(var n=0,e=r;n<e.length;n++){var i=e[n];y[i]=""}return x};var dr=function(){if(a!==undefined){return a}if(c){return c.getFill()}return"both"};var cr=function(){if(C!==undefined){return C}if(f!==undefined){return f}if(c){return c.getDirection()}return"normal"};var sr=function(){if(A){return"linear"}if(i!==undefined){return i}if(c){return c.getEasing()}return"linear"};var lr=function(){if(g){return 0}if(b!==undefined){return b}if(e!==undefined){return e}if(c){return c.getDuration()}return 0};var mr=function(){if(t!==undefined){return t}if(c){return c.getIterations()}return 1};var yr=function(){if(_!==undefined){return _}if(n!==undefined){return n}if(c){return c.getDelay()}return 0};var pr=function(){return u};var Ar=function(r){f=r;jr(true);return x};var gr=function(r){a=r;jr(true);return x};var Cr=function(r){n=r;jr(true);return x};var br=function(r){i=r;jr(true);return x};var _r=function(r){if(!B&&r===0){r=1}e=r;jr(true);return x};var Pr=function(r){t=r;jr(true);return x};var Er=function(r){c=r;return x};var Sr=function(r){if(r!=null){if(r.nodeType===1){I.push(r)}else if(r.length>=0){for(var n=0;n<r.length;n++){I.push(r[n])}}else{printIonError("createAnimation - Invalid addElement value.")}}return x};var xr=function(r){if(r!=null){if(Array.isArray(r)){for(var n=0,e=r;n<e.length;n++){var i=e[n];i.parent(x);D.push(i)}}else{r.parent(x);D.push(r)}}return x};var Tr=function(r){var n=u!==r;u=r;if(n){wr(u)}return x};var wr=function(r){if(B){G().forEach((function(n){var e=n.effect;if(e.setKeyframes){e.setKeyframes(r)}else{var i=new KeyframeEffect(e.target,r,e.getTiming());n.effect=i}}))}};var hr=function(){W.forEach((function(r){return r()}));j.forEach((function(r){return r()}));var r=o;var n=v;var e=s;I.forEach((function(i){var t=i.classList;r.forEach((function(r){return t.add(r)}));n.forEach((function(r){return t.remove(r)}));for(var a in e){if(e.hasOwnProperty(a)){setStyleProperty(i,a,e[a])}}}))};var kr=function(){K.forEach((function(r){return r()}));M.forEach((function(r){return r()}));var r=P?1:0;var n=l;var e=m;var i=y;I.forEach((function(r){var t=r.classList;n.forEach((function(r){return t.add(r)}));e.forEach((function(r){return t.remove(r)}));for(var a in i){if(i.hasOwnProperty(a)){setStyleProperty(r,a,i[a])}}}));b=undefined;C=undefined;_=undefined;h.forEach((function(n){return n.c(r,x)}));k.forEach((function(n){return n.c(r,x)}));k.length=0;S=true;if(P){E=true}P=true};var Rr=function(){if(p===0){return}p--;if(p===0){kr();if(c){c.animationFinish()}}};var Ir=function(){I.forEach((function(r){var n=r.animate(u,{id:w,delay:yr(),duration:lr(),easing:sr(),iterations:mr(),fill:dr(),direction:cr()});n.pause();q.push(n)}));if(q.length>0){q[0].onfinish=function(){Rr()}}};var Dr=function(){hr();if(u.length>0){if(B){Ir()}}d=true};var Fr=function(r){r=Math.min(Math.max(r,0),.9999);if(B){q.forEach((function(n){n.currentTime=n.effect.getComputedTiming().delay+lr()*r;n.pause()}))}};var Wr=function(r){q.forEach((function(r){r.effect.updateTiming({delay:yr(),duration:lr(),easing:sr(),iterations:mr(),fill:dr(),direction:cr()})}));if(r!==undefined){Fr(r)}};var jr=function(r,n,e){if(r===void 0){r=false}if(n===void 0){n=true}if(r){D.forEach((function(i){i.update(r,n,e)}))}if(B){Wr(e)}return x};var Kr=function(r,n){if(r===void 0){r=false}D.forEach((function(e){e.progressStart(r,n)}));zr();A=r;if(!d){Dr()}jr(false,true,n);return x};var Mr=function(r){D.forEach((function(n){n.progressStep(r)}));Fr(r);return x};var qr=function(r,n,e){A=false;D.forEach((function(i){i.progressEnd(r,n,e)}));if(e!==undefined){b=e}E=false;P=true;if(r===0){C=cr()==="reverse"?"normal":"reverse";if(C==="reverse"){P=false}if(B){jr();Fr(1-n)}else{_=(1-n)*lr()*-1;jr(false,false)}}else if(r===1){if(B){jr();Fr(n)}else{_=n*lr()*-1;jr(false,false)}}if(r!==undefined&&!c){Lr()}return x};var zr=function(){if(d){if(B){q.forEach((function(r){r.pause()}))}else{I.forEach((function(r){setStyleProperty(r,"animation-play-state","paused")}))}T=true}};var Br=function(){D.forEach((function(r){r.pause()}));zr();return x};var Gr=function(){Rr()};var Hr=function(){q.forEach((function(r){r.play()}));if(u.length===0||I.length===0){Rr()}};var Jr=function(){if(B){Fr(0);Wr()}};var Lr=function(r){return new Promise((function(n){if(r===null||r===void 0?void 0:r.sync){g=true;U((function(){return g=false}),{oneTimeCallback:true})}if(!d){Dr()}if(E){Jr();E=false}if(S){p=D.length+1;S=false}var e=function(){O(i,k);n()};var i=function(){O(e,R);n()};U(i,{oneTimeCallback:true});Q(e,{oneTimeCallback:true});D.forEach((function(r){r.play()}));if(B){Hr()}else{Gr()}T=false}))};var Nr=function(){D.forEach((function(r){r.stop()}));if(d){X();d=false}L();R.forEach((function(r){return r.c(0,x)}));R.length=0};var Or=function(r,n){var e;var i=u[0];if(i!==undefined&&(i.offset===undefined||i.offset===0)){i[r]=n}else{u=__spreadArray([(e={offset:0},e[r]=n,e)],u,true)}return x};var Qr=function(r,n){var e;var i=u[u.length-1];if(i!==undefined&&(i.offset===undefined||i.offset===1)){i[r]=n}else{u=__spreadArray(__spreadArray([],u,true),[(e={offset:1},e[r]=n,e)],false)}return x};var Ur=function(r,n,e){return Or(r,n).to(r,e)};return x={parentAnimation:c,elements:I,childAnimations:D,id:w,animationFinish:Rr,from:Or,to:Qr,fromTo:Ur,parent:Er,play:Lr,pause:Br,stop:Nr,destroy:H,keyframes:Tr,addAnimation:xr,addElement:Sr,update:jr,fill:gr,direction:Ar,iterations:Pr,duration:_r,easing:br,delay:Cr,getWebAnimations:G,getKeyframes:pr,getFill:dr,getDirection:cr,getDelay:yr,getIterations:mr,getEasing:sr,getDuration:lr,afterAddRead:rr,afterAddWrite:nr,afterClearStyles:vr,afterStyles:or,afterRemoveClass:ur,afterAddClass:fr,beforeAddRead:Z,beforeAddWrite:$,beforeClearStyles:ar,beforeStyles:tr,beforeRemoveClass:ir,beforeAddClass:er,onFinish:U,isRunning:N,progressStart:Kr,progressStep:Mr,progressEnd:qr}};export{createAnimation as c};